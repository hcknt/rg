# clang-format configuration
BasedOnStyle: LLVM
Language: Cpp
Standard: c++20

# Indentation (2 spaces)
IndentWidth: 2
TabWidth: 2
UseTab: Never
ColumnLimit: 120

# Braces (attach to the same line)
BreakBeforeBraces: Attach
AllowShortBlocksOnASingleLine: Never
AllowShortFunctionsOnASingleLine: Inline
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AllowShortCaseLabelsOnASingleLine: false

# Alignment
AlignAfterOpenBracket: Align
AlignConsecutiveAssignments: None
AlignConsecutiveDeclarations: None
AlignOperands: Align
AlignTrailingComments:
  Kind: Always
  OverEmptyLines: 0

# Spacing
SpaceBeforeParens: ControlStatements
SpaceAfterCStyleCast: false
SpacesInAngles: Never
SpacesInParentheses: false
SpacesInSquareBrackets: false
SpaceBeforeAssignmentOperators: true

# Pointer/reference symbols attach to the type
PointerAlignment: Left
ReferenceAlignment: Left
DerivePointerAlignment: false

# Empty line management
MaxEmptyLinesToKeep: 1
KeepEmptyLinesAtTheStartOfBlocks: false

# Include sorting (external headers first, internal headers later)
SortIncludes: CaseSensitive
IncludeBlocks: Regroup
IncludeCategories:
  - Regex:           '^<.*\.h>'
    Priority:        1
  - Regex:           '^<.*>'
    Priority:        2
  - Regex:           '.*'
    Priority:        3

# Constructor initializer list (one per line)
BreakConstructorInitializers: BeforeColon
ConstructorInitializerIndentWidth: 2
PackConstructorInitializers: Never
